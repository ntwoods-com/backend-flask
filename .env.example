# Flask
APP_ENV=development
HOST=0.0.0.0
PORT=5002
LOG_LEVEL=INFO
APP_TIMEZONE=Asia/Kolkata

# Database
# Supabase Postgres example (use your real project ref + password).
# Prefer the "Connection pooling" URL from Supabase when available.
DATABASE_URL=postgresql+psycopg2://postgres:<password>@db.<project-ref>.supabase.co:5432/postgres?sslmode=require
# Local dev fallback:
# DATABASE_URL=sqlite:///./hrms.db

# SQLAlchemy pool tuning (important on Supabase due to connection limits)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=1
DB_POOL_USE_LIFO=1
# Optional (psycopg2): when set, overrides sslmode for Postgres (disable|prefer|require|verify-ca|verify-full)
# DB_SSLMODE=require

# Security (required in production)
PEPPER=change-me-long-random
# Optional: separate key for encrypted-at-rest PII (base64 32 bytes / 64 hex / passphrase)
PII_ENC_KEY=
# Roles allowed to view decrypted PII
PII_VIEW_ROLES=ADMIN,HR,OWNER,EA,ACCOUNTS,MIS,DEO,EMPLOYEE

# Auth (Google OAuth)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
SESSION_TTL_MINUTES=720
AUTH_ALLOW_TEST_TOKENS=0
SESSION_LAST_SEEN_UPDATE_SECONDS=300

# CORS (comma-separated; never use * in production)
ALLOWED_ORIGINS=http://localhost:5173

# Uploads
UPLOAD_DIR=./uploads

# File storage for CVs/screenshots/docs:
# - local: store bytes in UPLOAD_DIR and serve via GET /files/<fileId>?token=...
# - gas: forward uploads to a Google Apps Script WebApp uploader (Drive) and return Drive fileId
FILE_STORAGE_MODE=local

# Google Apps Script uploader (used when FILE_STORAGE_MODE=gas)
GAS_UPLOAD_URL=
GAS_UPLOAD_REQUEST_FORMAT=json
GAS_UPLOAD_TIMEOUT_SECONDS=30
GAS_UPLOAD_API_KEY=
GAS_UPLOAD_FOLDER_ID=

# Rate limiting (in-memory, per instance)
RATE_LIMIT_DEFAULT=300 per minute
RATE_LIMIT_GLOBAL=2000 per minute
RATE_LIMIT_LOGIN=30 per minute

# Gunicorn (optional)
WEB_CONCURRENCY=2
PYTHON_THREADS=4
GUNICORN_TIMEOUT=120
